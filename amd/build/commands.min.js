define("tiny_translations/commands",["exports","./options"],(function(_exports,_options){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.getSetup=void 0;_exports.getSetup=async()=>editor=>{if("id_substitutetext_editor"===editor.getElement().id)return;let translationHashElement;editor.on("init",(()=>{const newTranslationHash=(0,_options.getUnusedHash)(editor);newTranslationHash&&(translationHashElement=editor.getBody().querySelector("[data-translationhash]"),translationHashElement?translationHashElement.setAttribute("name","translationhash"):(translationHashElement=document.createElement("span"),translationHashElement.dataset.translationhash=newTranslationHash,translationHashElement.setAttribute("name","translationhash"),editor.getBody().prepend(translationHashElement)))})),editor.on("submit",(()=>{editor.getContent()===translationHashElement.outerHTML&&editor.setContent("")}))}}));

//# sourceMappingURL=commands.min.js.map